"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[6617],{50910:function(e,t,n){n(72791);var r=n(78983),a=n(80184);t.Z=function(e){return(0,a.jsx)("div",{className:"row bg-white pt-2 pl-2 mb-4 ",style:{margin:"0px 1px"},children:(0,a.jsx)("div",{className:"col-12  ",children:(0,a.jsx)(r.fj,{className:"d-flex  align-items-center",style:{"--cui-breadcrumb-divider":"'>'"},children:e.breadCrumbsInfo&&e.breadCrumbsInfo.length&&e.breadCrumbsInfo.map((function(e){return(0,a.jsx)(r.Sd,{href:e.href?e.href:null,children:e.name})}))})})})}},25158:function(e,t,n){n.d(t,{Kf:function(){return l},az:function(){return u},ej:function(){return d}});var r=n(74165),a=n(15861),i=n(39892),s=n(74569),c=n.n(s),o=n(70895),l=function(e){return function(){var t=(0,a.Z)((0,r.Z)().mark((function t(n,a){var s,l,u,d,p;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:i.x$}),s=a(),l=s.userLogin.userInfo,u={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(l.token)}},t.next=6,c().post("".concat(o._,"/complaint"),e,u);case 6:d=t.sent,p=d.data,n({type:i.My,payload:p}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),n({type:i.UL,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,n){return t.apply(this,arguments)}}()},u=function(e){return function(){var t=(0,a.Z)((0,r.Z)().mark((function t(n,a){var s,l,u,d,p;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:i.GV}),s=a(),l=s.userLogin.userInfo,u={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(l.token)}},t.next=6,c().post("".concat(o._,"/complaint/approvedByDco"),{_id:e},u);case 6:d=t.sent,p=d.data,n({type:i.bc,payload:p}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),n({type:i.fN,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,n){return t.apply(this,arguments)}}()},d=function(e){return function(){var t=(0,a.Z)((0,r.Z)().mark((function t(n,a){var s,l,u,d,p;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:i.bs}),s=a(),l=s.userLogin.userInfo,u={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(l.token)}},t.next=6,c().post("".concat(o._,"/complaint/rejectedByDco"),{_id:e},u);case 6:d=t.sent,p=d.data,n({type:i.ji,payload:p}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),n({type:i.hh,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,n){return t.apply(this,arguments)}}()}},76617:function(e,t,n){n.r(t);var r=n(74165),a=n(93433),i=n(15861),s=n(29439),c=n(72791),o=n(59434),l=(n(25158),n(78983)),u=n(74569),d=n.n(u),p=n(70895),m=n(50910),f=n(80184);t.default=function(){var e=(0,o.I0)(),t=(0,o.v9)((function(e){return e.userLogin})).userInfo,n=(0,o.v9)((function(e){return e.complaintApproveByDcoReducer})),u=(n.msg,n.loading,(0,c.useState)([])),x=(0,s.Z)(u,2),h=x[0],v=x[1],y=(0,c.useState)([]),j=(0,s.Z)(y,2),w=j[0],g=j[1],b=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(n){var i,s,c,o,l,u;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t.token)}},s=n._id,e.next=4,d().post("".concat(p._,"/complaint/approvedByCommittee"),{_id:s},i);case 4:c=e.sent,c.data&&(n.committeApproved=!0,o=(0,a.Z)(h),l=o.filter((function(e){return e.id==n._id})),u=o.indexOf(l[0]),o[u]=n,v(o));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(n){var i,s,c,o,l,u;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t.token)}},s=n._id,e.next=4,d().post("".concat(p._,"/complaint/rejectedByComittee"),{_id:s},i);case 4:c=e.sent,c.data&&(n.committeApproved=!1,o=(0,a.Z)(h),l=o.filter((function(e){return e.id==n._id})),u=o.indexOf(l[0]),o[u]=n,v(o));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();(0,c.useEffect)((0,i.Z)((0,r.Z)().mark((function e(){var n,a,i;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t.token)}},e.next=3,d().get("".concat(p._,"/complaint/committee"),n);case 3:a=e.sent,i=a.data,v(i),g(i);case 7:case"end":return e.stop()}}),e)}))),[e]);return(0,f.jsx)(f.Fragment,{children:(0,f.jsxs)("main",{className:"main-div",children:[(0,f.jsx)(m.Z,{breadCrumbsInfo:[{name:"Home",href:"/"},{name:"Complaints"},{name:"All Complaints"}]}),(0,f.jsxs)("div",{className:"row mb-4",children:[(0,f.jsx)("div",{className:"col-6"}),(0,f.jsx)("div",{className:"col-6",children:(0,f.jsxs)("div",{className:"row",children:[(0,f.jsxs)("div",{className:"col-6 d-flex justify-content-center",children:[(0,f.jsx)("div",{className:"d-flex justify-content-center align-items-center mr-3",children:"Complaints"}),(0,f.jsxs)(l.LX,{"aria-label":"Default select example",onChange:function(e){!function(e){if("all"==e&&v(w),"software"==e){var t=w.filter((function(e){return"software"==e.type}));v(t)}if("hardware"==e){var n=w.filter((function(e){return"hardware"==e.type}));v(n)}if("network"==e){var r=w.filter((function(e){return"network"==e.type}));v(r)}if("other"==e){var a=w.filter((function(e){return"other"==e.type}));v(a)}}(e.target.value)},children:[(0,f.jsx)("option",{value:"all",children:"All"}),(0,f.jsx)("option",{value:"software",children:"Software"}),(0,f.jsx)("option",{value:"hardware",children:"Hardware"}),(0,f.jsx)("option",{value:"network",children:"Network"}),(0,f.jsx)("option",{value:"other",children:"Other"})]})]}),(0,f.jsx)("div",{className:"col-6"})]})})]}),(0,f.jsx)("div",{children:(0,f.jsx)("h4",{className:"font-semibold",children:"All Complaints"})}),(0,f.jsx)("div",{className:"flex flex-col",children:(0,f.jsx)("div",{className:"-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8",children:(0,f.jsx)("div",{className:"py-2 align-middle inline-block min-w-full sm:px-6 lg:px-8",children:(0,f.jsx)("div",{className:"shadow overflow-hidden border-b border-gray-200 sm:rounded-lg",children:(0,f.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,f.jsx)("thead",{className:"bg-gray-50",children:(0,f.jsxs)("tr",{children:[(0,f.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Title"}),(0,f.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Lab"}),(0,f.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),(0,f.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Added By"}),(0,f.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Action"})]})}),(0,f.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:h&&h.map((function(e){return(0,f.jsxs)("tr",{children:[(0,f.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,f.jsx)("div",{className:"flex items-center",children:(0,f.jsx)("div",{className:"ml-4",children:(0,f.jsx)("div",{className:"text-base font-medium text-gray-900",children:e.title})})})}),(0,f.jsx)("td",{className:"px-2 py-2 whitespace-nowrap",children:(0,f.jsx)("div",{className:"flex items-center",children:(0,f.jsx)("div",{className:"ml-4",children:(0,f.jsx)("div",{className:"text-base font-medium text-gray-900",children:e.lab&&e.lab.name})})})}),(0,f.jsx)("td",{className:"text-base px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.type&&e.type}),(0,f.jsx)("td",{className:"px-2 py-2 whitespace-nowrap",children:(0,f.jsx)("div",{className:"flex items-center",children:(0,f.jsx)("div",{className:"ml-4",children:(0,f.jsx)("div",{className:"text-base font-medium text-gray-900",children:e.user&&e.user.name})})})}),(0,f.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium d-flex justify-content-start",children:null==e.committeApproved?(0,f.jsxs)(f.Fragment,{children:[" ",(0,f.jsx)(l.u5,{color:"success",className:"text-white",onClick:function(){return b(e)},children:e.committeApproved?"Approved":"Approve"})," ",(0,f.jsx)(l.u5,{color:"danger",className:"text-white ml-2",onClick:function(){return N(e)},children:null==e.committeApproved?"Reject ":"Rejected"})," "]}):e.committeApproved?(0,f.jsx)(l.u5,{color:"success",className:"text-white",onClick:function(){return b(e)},children:e.committeApproved?"Approved":"Approve"}):(0,f.jsx)(l.u5,{color:"danger",className:"text-white",onClick:function(){return N(e)},children:e.committeApproved?"Reject":"Rejected"})})]},e._id)}))})]})})})})})]})})}},30907:function(e,t,n){function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,{Z:function(){return r}})},83878:function(e,t,n){function r(e){if(Array.isArray(e))return e}n.d(t,{Z:function(){return r}})},59199:function(e,t,n){function r(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}n.d(t,{Z:function(){return r}})},25267:function(e,t,n){function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}n.d(t,{Z:function(){return r}})},29439:function(e,t,n){n.d(t,{Z:function(){return s}});var r=n(83878);var a=n(40181),i=n(25267);function s(e,t){return(0,r.Z)(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],s=!0,c=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);s=!0);}catch(o){c=!0,a=o}finally{try{s||null==n.return||n.return()}finally{if(c)throw a}}return i}}(e,t)||(0,a.Z)(e,t)||(0,i.Z)()}},93433:function(e,t,n){n.d(t,{Z:function(){return s}});var r=n(30907);var a=n(59199),i=n(40181);function s(e){return function(e){if(Array.isArray(e))return(0,r.Z)(e)}(e)||(0,a.Z)(e)||(0,i.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},40181:function(e,t,n){n.d(t,{Z:function(){return a}});var r=n(30907);function a(e,t){if(e){if("string"===typeof e)return(0,r.Z)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?(0,r.Z)(e,t):void 0}}}}]);
//# sourceMappingURL=6617.3b5a0083.chunk.js.map