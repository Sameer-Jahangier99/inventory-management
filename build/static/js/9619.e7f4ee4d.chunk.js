"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[9619],{50910:function(e,t,a){a(72791);var r=a(78983),s=a(80184);t.Z=function(e){return(0,s.jsx)("div",{className:"row bg-white pt-2 pl-2 mb-4 ",style:{margin:"0px 1px"},children:(0,s.jsx)("div",{className:"col-12  ",children:(0,s.jsx)(r.fj,{className:"d-flex  align-items-center",style:{"--cui-breadcrumb-divider":"'>'"},children:e.breadCrumbsInfo&&e.breadCrumbsInfo.length&&e.breadCrumbsInfo.map((function(e){return(0,s.jsx)(r.Sd,{href:e.href?e.href:null,children:e.name})}))})})})}},25158:function(e,t,a){a.d(t,{Kf:function(){return o},az:function(){return d},ej:function(){return p}});var r=a(74165),s=a(15861),n=a(39892),c=a(74569),i=a.n(c),l=a(70895),o=function(e){return function(){var t=(0,s.Z)((0,r.Z)().mark((function t(a,s){var c,o,d,p,x;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:n.x$}),c=s(),o=c.userLogin.userInfo,d={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(o.token)}},t.next=6,i().post("".concat(l._,"/complaint"),e,d);case 6:p=t.sent,x=p.data,a({type:n.My,payload:x}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),a({type:n.UL,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,a){return t.apply(this,arguments)}}()},d=function(e){return function(){var t=(0,s.Z)((0,r.Z)().mark((function t(a,s){var c,o,d,p,x;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:n.GV}),c=s(),o=c.userLogin.userInfo,d={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(o.token)}},t.next=6,i().post("".concat(l._,"/complaint/approvedByDco"),{_id:e},d);case 6:p=t.sent,x=p.data,a({type:n.bc,payload:x}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),a({type:n.fN,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,a){return t.apply(this,arguments)}}()},p=function(e){return function(){var t=(0,s.Z)((0,r.Z)().mark((function t(a,s){var c,o,d,p,x;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:n.bs}),c=s(),o=c.userLogin.userInfo,d={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(o.token)}},t.next=6,i().post("".concat(l._,"/complaint/rejectedByDco"),{_id:e},d);case 6:p=t.sent,x=p.data,a({type:n.ji,payload:x}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),a({type:n.hh,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,a){return t.apply(this,arguments)}}()}},19619:function(e,t,a){a.r(t);var r=a(1413),s=a(74165),n=a(15861),c=a(29439),i=a(72791),l=a(59434),o=(a(25158),a(78983)),d=a(68858),p=a(16157),x=a(74569),u=a.n(x),m=a(70895),h=a(50910),f=a(80184);t.default=function(){(0,l.I0)();var e=(0,i.useState)(!1),t=(0,c.Z)(e,2),a=(t[0],t[1],(0,l.v9)((function(e){return e.userLogin})).userInfo),x=(0,i.useState)([]),v=(0,c.Z)(x,2),y=v[0],j=v[1],w=(0,i.useState)([]),g=(0,c.Z)(w,2),N=g[0],b=g[1],k=i.useState(!1),Z=(0,c.Z)(k,2),C=Z[0],_=Z[1],A=(0,i.useState)(!1),S=(0,c.Z)(A,2),I=(S[0],S[1]),z=(0,i.useState)(""),B=(0,c.Z)(z,2),L=B[0],T=B[1];(0,i.useEffect)((0,n.Z)((0,s.Z)().mark((function e(){var t,r,n;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a.token)}},e.next=3,u().get("".concat(m._,"/complaint"),t);case 3:r=e.sent,n=r.data,console.log("data===>",n),j(n&&n),b(n&&n);case 8:case"end":return e.stop()}}),e)}))),[]);var D=function(){var e=(0,n.Z)((0,s.Z)().mark((function e(){var t;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u().delete("".concat(m._,"/complaint/delete/").concat(L));case 2:t=e.sent,t.data.success&&(T(""),_(!1),I(!0));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function H(e){return(0,f.jsx)(d.Z,(0,r.Z)((0,r.Z)({},e),{},{size:"md","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:(0,f.jsxs)(d.Z.Body,{className:"",children:[(0,f.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,f.jsx)("h4",{children:"Are you sure ?"}),(0,f.jsx)("i",{className:"fa fa-times mouse-over ","aria-hidden":"true",onClick:function(){return _(!1)}})]}),(0,f.jsx)("div",{className:"row",children:(0,f.jsxs)("div",{className:"col-12 d-flex justify-content-center",children:[(0,f.jsx)(p.Z,{variant:"danger",size:"lg",onClick:D,className:"mouse-over",style:{width:"10rem"},children:"Yes"})," ",(0,f.jsx)(p.Z,{variant:"warning",size:"lg",className:"ml-3 mouse-over",onClick:function(){return _(!1)},style:{width:"10rem"},children:"No"})]})})]})}))}return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)("main",{className:"main-div",children:[(0,f.jsx)(h.Z,{breadCrumbsInfo:[{name:"Home",href:"/"},{name:"Complaints"},{name:"All Complaints"}]}),(0,f.jsxs)("div",{className:"row",children:[(0,f.jsx)("div",{className:"col-6"}),(0,f.jsx)("div",{className:"col-6",children:(0,f.jsxs)("div",{className:"row",children:[(0,f.jsxs)("div",{className:"col-6 d-flex justify-content-center",children:[(0,f.jsx)("div",{className:"d-flex justify-content-center align-items-center mr-3",children:"Complaints"}),(0,f.jsxs)(o.LX,{"aria-label":"Default select example",onChange:function(e){!function(e){if("software"==e){var t=N.filter((function(e){return"software"===e.type}));j(t)}if("hardware"==e){var a=N.filter((function(e){return"hardware"===e.type}));j(a)}if("network"==e){var r=N.filter((function(e){return"network"===e.type}));j(r)}if("other"==e){var s=N.filter((function(e){return"other"===e.type}));j(s)}"all"==e&&j(N)}(e.target.value)},children:[(0,f.jsx)("option",{value:"all",children:"All"}),(0,f.jsx)("option",{value:"software",children:"Software"}),(0,f.jsx)("option",{value:"hardware",children:"Hardware"}),(0,f.jsx)("option",{value:"network",children:"Network"}),(0,f.jsx)("option",{value:"other",children:"other equipment"})]})]}),(0,f.jsx)("div",{className:"col-6"})]})})]}),(0,f.jsx)("div",{children:(0,f.jsx)("h4",{className:"font-semibold",children:"All Complaints"})}),(0,f.jsx)("div",{className:"flex flex-col",children:(0,f.jsx)("div",{className:"-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8",children:(0,f.jsx)("div",{className:"py-2 align-middle inline-block min-w-full sm:px-6 lg:px-8",children:(0,f.jsx)("div",{className:"shadow overflow-hidden border-b border-gray-200 sm:rounded-lg",children:(0,f.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,f.jsx)("thead",{className:"bg-gray-50",children:(0,f.jsxs)("tr",{children:[(0,f.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Title"}),(0,f.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Lab"}),(0,f.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Added By"}),(0,f.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),(0,f.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"DCO Aprroved"}),(0,f.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Committee Aprroved"}),(0,f.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Noc Status"})," ",(0,f.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Works Status"}),(0,f.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Edit"})]})}),(0,f.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:y&&y.map((function(e){return(0,f.jsxs)("tr",{children:[(0,f.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,f.jsx)("div",{className:"flex items-center",children:(0,f.jsx)("div",{className:"ml-4",children:(0,f.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.title})})})}),(0,f.jsx)("td",{className:"px-2 py-2 whitespace-nowrap",children:(0,f.jsx)("div",{className:"flex items-center",children:(0,f.jsx)("div",{className:"ml-4",children:(0,f.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.lab&&e.lab.name})})})}),(0,f.jsx)("td",{className:"px-2 py-2 whitespace-nowrap",children:(0,f.jsx)("div",{className:"flex items-center",children:(0,f.jsx)("div",{className:"ml-4",children:(0,f.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.user&&e.user.name})})})}),(0,f.jsx)("td",{className:"px-2 py-2 whitespace-nowrap",children:(0,f.jsx)("div",{className:"flex items-center",children:(0,f.jsx)("div",{className:"ml-4",children:(0,f.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e&&e.type&&e.type})})})}),(0,f.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.dcoApproved?"Approved":"pending"}),(0,f.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.committeApproved?"Approved":"pending"}),(0,f.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"hardware"!=e.type?e.nocApproved?"Approved":"pending":null}),(0,f.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"hardware"==e.type?e.worksApproved?"Approved":"pending":null}),(0,f.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:(0,f.jsx)("button",{style:{padding:"5px"},onClick:function(){return t=e._id,T(t),void _(!0);var t},children:(0,f.jsx)("i",{class:"fa fa-trash","aria-hidden":"true"})})})]},e._id)}))})]})})})})})]}),(0,f.jsx)(H,{show:C,onHide:function(){return _(!1)}})]})}}}]);
//# sourceMappingURL=9619.e7f4ee4d.chunk.js.map